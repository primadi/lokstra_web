<!-- ls-layout: Standard page layout component -->
<div class="ls-layout" x-data="{ sidebarOpen: {{ .SidebarOpen | default false }} }">
    <style>
        .ls-layout {
            min-height: 100vh;
            background-color: #f9fafb;
        }
        
        .ls-layout-container {
            display: flex;
            min-height: 100vh;
        }
        
        .ls-layout-sidebar {
            flex-shrink: 0;
        }
        
        .ls-layout-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }
        
        .ls-layout-header {
            flex-shrink: 0;
        }
        
        .ls-layout-content {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
        }
        
        .ls-layout-content-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .ls-layout-breadcrumb {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: #6b7280;
        }
        
        .ls-layout-breadcrumb-item {
            color: #6b7280;
            text-decoration: none;
            transition: color 0.2s ease-in-out;
        }
        
        .ls-layout-breadcrumb-item:hover {
            color: #374151;
        }
        
        .ls-layout-breadcrumb-item.active {
            color: #374151;
            font-weight: 500;
        }
        
        .ls-layout-breadcrumb-separator {
            color: #d1d5db;
        }
        
        .ls-layout-page-header {
            margin-bottom: 2rem;
        }
        
        .ls-layout-page-title {
            font-size: 1.875rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }
        
        .ls-layout-page-subtitle {
            color: #6b7280;
            font-size: 1rem;
        }
        
        .ls-layout-page-actions {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .ls-layout-footer {
            margin-top: 2rem;
            padding: 1.5rem;
            border-top: 1px solid #e5e7eb;
            background-color: white;
            text-align: center;
            color: #6b7280;
            font-size: 0.875rem;
        }
        
        /* Theme overrides */
        .theme-dark .ls-layout {
            background-color: #111827;
        }
        
        .theme-dark .ls-layout-page-title {
            color: white;
        }
        
        .theme-dark .ls-layout-footer {
            background-color: #1f2937;
            border-color: #374151;
            color: #d1d5db;
        }
        
        /* Responsive */
        @media (max-width: 767px) {
            .ls-layout-content {
                padding: 1rem;
            }
            
            .ls-layout-page-title {
                font-size: 1.5rem;
            }
            
            .ls-layout-page-actions {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
    
    <div class="ls-layout-container">
        <!-- Sidebar -->
        {{ if .Sidebar }}
        <div class="ls-layout-sidebar">
            {{ template "ls-sidebar.html" .Sidebar }}
        </div>
        {{ end }}
        
        <!-- Main content area -->
        <div class="ls-layout-main">
            <!-- Header/Navbar -->
            {{ if .Navbar }}
            <div class="ls-layout-header">
                {{ template "ls-navbar.html" .Navbar }}
            </div>
            {{ end }}
            
            <!-- Content -->
            <div class="ls-layout-content {{ .ContentClass }}">
                <div class="ls-layout-content-container">
                    <!-- Breadcrumb -->
                    {{ if .Breadcrumb }}
                    <nav class="ls-layout-breadcrumb">
                        {{ range $index, $item := .Breadcrumb }}
                        {{ if ne $index 0 }}
                        <span class="ls-layout-breadcrumb-separator">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </span>
                        {{ end }}
                        <a href="{{ .Url }}" 
                           class="ls-layout-breadcrumb-item {{ if .Active }}active{{ end }}"
                           {{ if .HxGet }}hx-get="{{ .HxGet }}"{{ end }}
                           {{ if .HxTarget }}hx-target="{{ .HxTarget }}"{{ end }}>
                            {{ .Title }}
                        </a>
                        {{ end }}
                    </nav>
                    {{ end }}
                    
                    <!-- Page header -->
                    {{ if .PageTitle }}
                    <div class="ls-layout-page-header">
                        <h1 class="ls-layout-page-title">{{ .PageTitle }}</h1>
                        {{ if .PageSubtitle }}
                        <p class="ls-layout-page-subtitle">{{ .PageSubtitle }}</p>
                        {{ end }}
                        
                        {{ if .PageActions }}
                        <div class="ls-layout-page-actions">
                            {{ range .PageActions }}
                            {{ if eq .Type "button" }}
                            {{ template "ls-button.html" . }}
                            {{ else if eq .Type "link" }}
                            <a href="{{ .Url }}" class="ls-layout-action-link {{ .Class }}">{{ .Title }}</a>
                            {{ end }}
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>
                    {{ end }}
                    
                    <!-- Main content slot -->
                    <div class="ls-layout-main-content {{ .MainContentClass }}">
                        {{ .Content }}
                    </div>
                </div>
            </div>
            
            <!-- Footer -->
            {{ if .Footer }}
            <div class="ls-layout-footer">
                {{ .Footer.Text | default "Â© 2024 Lokstra Framework. All rights reserved." }}
            </div>
            {{ end }}
        </div>
    </div>
    
    <!-- Mobile sidebar toggle -->
    {{ if .Sidebar }}
    <button 
        class="fixed bottom-4 right-4 z-50 p-3 bg-blue-600 text-white rounded-full shadow-lg md:hidden"
        @click="sidebarOpen = !sidebarOpen"
        x-show="!sidebarOpen"
    >
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>
    {{ end }}
</div>
