<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lokstra Web Components - Complete Demo</title>
    
    <!-- tailwind.css -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@latest/dist/tailwind.min.css">

    
    <!-- Lokstra Theme CSS -->
    <link rel="stylesheet" href="theme.css">
    
    <!-- Lit Framework -->
    <script type="module" src="https://unpkg.com/lit@3.0.0/index.js"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@2.0.6/dist/htmx.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Preline JavaScript -->
    <script src="https://unpkg.com/preline@3.2.3/dist/preline.js"></script>
    
    <!-- Register all Lokstra components -->
    <script type="module" src="register-all.js"></script>
    
    <style>
        .demo-section {
            margin-bottom: 3rem;
            padding: 2rem;
            border: 1px solid var(--ls-gray-200);
            border-radius: var(--ls-border-radius-lg);
            background: var(--ls-card-bg);
        }
        
        .demo-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--ls-gray-900);
        }
        
        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .component-demo {
            padding: 1rem;
            border: 1px solid var(--ls-gray-100);
            border-radius: var(--ls-border-radius);
            background: var(--ls-gray-50);
        }
        
        .component-title {
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: var(--ls-gray-700);
        }
    </style>
</head>
<body x-data="demoApp()" class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b border-gray-200 mb-8">
        <div class="max-w-7xl mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <h1 class="text-3xl font-bold text-gray-900">Lokstra Web Components</h1>
                <div class="flex items-center gap-4">
                    <ls-button 
                        text="Toggle Theme" 
                        variant="outline" 
                        size="sm"
                        icon="palette"
                        @click="toggleTheme()"
                    ></ls-button>
                    <span x-text="isDark ? 'Dark Mode' : 'Light Mode'" class="text-sm text-gray-600"></span>
                </div>
            </div>
            <p class="text-gray-600 mt-2">Complete demo of all Lokstra web components with Preline UI, Alpine.js, HTMX, and Lucide icons</p>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 pb-8">
        
        <!-- Forms Components -->
        <section class="demo-section">
            <h2 class="demo-title">Form Components</h2>
            
            <div class="demo-grid">
                <div class="component-demo">
                    <h3 class="component-title">ls-input</h3>
                    <div class="space-y-4">
                        <ls-input 
                            label="Basic Input" 
                            placeholder="Enter some text"
                            value=""
                        ></ls-input>
                        
                        <ls-input 
                            label="Email Input" 
                            type="email"
                            placeholder="user@example.com"
                            icon="mail"
                        ></ls-input>
                        
                        <ls-input 
                            label="Password Input" 
                            type="password"
                            placeholder="••••••••"
                            icon="lock"
                        ></ls-input>
                        
                        <ls-input 
                            label="Error State" 
                            placeholder="Invalid input"
                            error="This field is required"
                        ></ls-input>
                        
                        <ls-input 
                            label="Success State" 
                            placeholder="Valid input"
                            value="valid@example.com"
                            success="Email is valid"
                        ></ls-input>
                    </div>
                </div>
                
                <div class="component-demo">
                    <h3 class="component-title">ls-button</h3>
                    <div class="space-y-4">
                        <div class="flex flex-wrap gap-2">
                            <ls-button text="Primary" variant="primary" icon="check"></ls-button>
                            <ls-button text="Secondary" variant="secondary" icon="star"></ls-button>
                            <ls-button text="Outline" variant="outline" icon="edit"></ls-button>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <ls-button text="Success" variant="success" icon="check-circle"></ls-button>
                            <ls-button text="Warning" variant="warning" icon="alert-triangle"></ls-button>
                            <ls-button text="Danger" variant="danger" icon="trash-2"></ls-button>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <ls-button text="Small" variant="primary" size="sm" icon="plus"></ls-button>
                            <ls-button text="Medium" variant="primary" size="md" icon="plus"></ls-button>
                            <ls-button text="Large" variant="primary" size="lg" icon="plus"></ls-button>
                        </div>
                        
                        <div class="flex flex-wrap gap-2">
                            <ls-button text="Loading" variant="primary" :loading="loading" @click="simulateLoading()"></ls-button>
                            <ls-button text="Disabled" variant="primary" disabled></ls-button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Layout Components -->
        <section class="demo-section">
            <h2 class="demo-title">Layout Components</h2>
            
            <div class="demo-grid">
                <div class="component-demo">
                    <h3 class="component-title">ls-card</h3>
                    <div class="space-y-4">
                        <ls-card 
                            title="Basic Card" 
                            subtitle="A simple card example"
                            size="md"
                        >
                            <p>This is the card content. You can put any HTML content here.</p>
                        </ls-card>
                        
                        <ls-card 
                            title="Interactive Card" 
                            subtitle="Click me!"
                            interactive
                            status="active"
                            :actions="[
                                { title: 'Edit', icon: 'edit' },
                                { title: 'Delete', icon: 'trash-2' }
                            ]"
                            @card-click="showAlert('Card clicked!')"
                            @card-action="handleCardAction($event.detail)"
                        >
                            <p>This card has interactive features and action buttons.</p>
                        </ls-card>
                        
                        <ls-card 
                            title="Expandable Card" 
                            subtitle="Has hidden content"
                            expandable
                        >
                            <p>Main card content is always visible.</p>
                            <div slot="expandable">
                                <p>This is the expandable content that can be toggled.</p>
                                <ls-button text="Action in Expandable" variant="outline" size="sm"></ls-button>
                            </div>
                        </ls-card>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Components -->
        <section class="demo-section">
            <h2 class="demo-title">Data Components</h2>
            
            <div class="component-demo">
                <h3 class="component-title">ls-table</h3>
                <ls-table 
                    :columns="tableColumns"
                    :data="tableData"
                    selectable
                    :pagination="tablePagination"
                    @table-sort="handleTableSort($event.detail)"
                    @table-select-row="handleTableSelect($event.detail)"
                    @table-action="handleTableAction($event.detail)"
                ></ls-table>
            </div>
        </section>

        <!-- Feedback Components -->
        <section class="demo-section">
            <h2 class="demo-title">Feedback Components</h2>
            
            <div class="demo-grid">
                <div class="component-demo">
                    <h3 class="component-title">ls-alert</h3>
                    <div class="space-y-4">
                        <ls-alert 
                            variant="info"
                            title="Information"
                            message="This is an informational message."
                        ></ls-alert>
                        
                        <ls-alert 
                            variant="success"
                            title="Success"
                            message="Operation completed successfully!"
                        ></ls-alert>
                        
                        <ls-alert 
                            variant="warning"
                            title="Warning"
                            message="Please review your input before proceeding."
                        ></ls-alert>
                        
                        <ls-alert 
                            variant="error"
                            title="Error"
                            message="An error occurred while processing your request."
                        ></ls-alert>
                        
                        <ls-alert 
                            variant="info"
                            title="Auto-hide Alert"
                            message="This alert will disappear in 3 seconds."
                            auto-hide
                            :auto-hide-duration="3000"
                        ></ls-alert>
                    </div>
                </div>
                
                <div class="component-demo">
                    <h3 class="component-title">ls-modal</h3>
                    <div class="space-y-4">
                        <ls-button 
                            text="Open Small Modal" 
                            variant="primary"
                            @click="showModal = true; modalSize = 'sm'; modalTitle = 'Small Modal'"
                        ></ls-button>
                        
                        <ls-button 
                            text="Open Medium Modal" 
                            variant="secondary"
                            @click="showModal = true; modalSize = 'md'; modalTitle = 'Medium Modal'"
                        ></ls-button>
                        
                        <ls-button 
                            text="Open Large Modal" 
                            variant="outline"
                            @click="showModal = true; modalSize = 'lg'; modalTitle = 'Large Modal'"
                        ></ls-button>
                        
                        <ls-button 
                            text="Confirmation Modal" 
                            variant="danger"
                            @click="showConfirmModal = true"
                        ></ls-button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation Components -->
        <section class="demo-section">
            <h2 class="demo-title">Navigation Components</h2>
            
            <div class="component-demo">
                <h3 class="component-title">ls-sidebar (Demo)</h3>
                <div class="border border-gray-300 rounded-lg overflow-hidden" style="height: 400px;">
                    <ls-sidebar 
                        :items="sidebarItems"
                        :brand="{ text: 'Lokstra', logo: '' }"
                        @nav-click="handleNavClick($event.detail)"
                    ></ls-sidebar>
                </div>
            </div>
        </section>
    </div>

    <!-- Modals -->
    <ls-modal 
        :open="showModal"
        :title="modalTitle"
        :size="modalSize"
        show-footer
        :actions="[
            { text: 'Cancel', variant: 'outline' },
            { text: 'Confirm', variant: 'primary' }
        ]"
        @modal-close="showModal = false"
        @modal-action="handleModalAction($event.detail)"
    >
        <p>This is a <span x-text="modalSize"></span> modal dialog.</p>
        <p>You can put any content here including other components:</p>
        <ls-input label="Sample Input" placeholder="Type something..."></ls-input>
    </ls-modal>

    <ls-modal 
        :open="showConfirmModal"
        title="Confirm Action"
        size="sm"
        show-footer
        :actions="[
            { text: 'Cancel', variant: 'outline' },
            { text: 'Delete', variant: 'danger', action: 'delete' }
        ]"
        @modal-close="showConfirmModal = false"
        @modal-action="handleConfirmAction($event.detail)"
    >
        <p>Are you sure you want to delete this item? This action cannot be undone.</p>
    </ls-modal>

    <script>
        function demoApp() {
            return {
                isDark: false,
                loading: false,
                showModal: false,
                showConfirmModal: false,
                modalTitle: 'Modal Title',
                modalSize: 'md',
                
                tableColumns: [
                    { key: 'name', title: 'Name', sortable: true, template: 'avatar' },
                    { key: 'email', title: 'Email', sortable: true },
                    { key: 'role', title: 'Role', sortable: true },
                    { key: 'status', title: 'Status', template: 'status' },
                    { key: 'created_at', title: 'Created', template: 'date', sortable: true },
                    { 
                        key: 'actions', 
                        title: 'Actions',
                        actions: [
                            { title: 'Edit', icon: 'edit', variant: '' },
                            { title: 'Delete', icon: 'trash-2', variant: 'danger', confirm: 'Are you sure?' }
                        ]
                    }
                ],
                
                tableData: [
                    { 
                        name: 'John Doe', 
                        email: 'john@example.com', 
                        role: 'Admin',
                        status: 'active',
                        created_at: '2024-01-15T10:30:00Z'
                    },
                    { 
                        name: 'Jane Smith', 
                        email: 'jane@example.com', 
                        role: 'User',
                        status: 'inactive',
                        created_at: '2024-01-10T14:20:00Z'
                    },
                    { 
                        name: 'Bob Wilson', 
                        email: 'bob@example.com', 
                        role: 'Editor',
                        status: 'pending',
                        created_at: '2024-01-20T09:15:00Z'
                    }
                ],
                
                tablePagination: {
                    currentPage: 1,
                    lastPage: 3,
                    total: 25,
                    from: 1,
                    to: 10,
                    pages: [1, 2, 3]
                },
                
                sidebarItems: [
                    { text: 'Dashboard', icon: 'home', url: '#', active: true },
                    { text: 'Users', icon: 'users', url: '#' },
                    { text: 'Products', icon: 'package', url: '#' },
                    { text: 'Orders', icon: 'shopping-cart', url: '#' },
                    { text: 'Reports', icon: 'bar-chart', url: '#' },
                    { text: 'Settings', icon: 'settings', url: '#' }
                ],
                
                toggleTheme() {
                    this.isDark = !this.isDark;
                    if (this.isDark) {
                        document.body.classList.add('theme-dark');
                    } else {
                        document.body.classList.remove('theme-dark');
                    }
                },
                
                simulateLoading() {
                    this.loading = true;
                    setTimeout(() => {
                        this.loading = false;
                    }, 2000);
                },
                
                showAlert(message) {
                    alert(message);
                },
                
                handleCardAction(detail) {
                    console.log('Card action:', detail);
                    alert(`Card action: ${detail.action.title}`);
                },
                
                handleTableSort(detail) {
                    console.log('Table sort:', detail);
                },
                
                handleTableSelect(detail) {
                    console.log('Table select:', detail);
                },
                
                handleTableAction(detail) {
                    console.log('Table action:', detail);
                    alert(`Table action: ${detail.action.title} on ${detail.rowData.name}`);
                },
                
                handleModalAction(detail) {
                    console.log('Modal action:', detail);
                    this.showModal = false;
                },
                
                handleConfirmAction(detail) {
                    console.log('Confirm action:', detail);
                    if (detail.action.action === 'delete') {
                        alert('Item deleted!');
                    }
                    this.showConfirmModal = false;
                },
                
                handleNavClick(detail) {
                    console.log('Nav click:', detail);
                    alert(`Navigating to: ${detail.item.text}`);
                }
            }
        }
    </script>
</body>
</html>
